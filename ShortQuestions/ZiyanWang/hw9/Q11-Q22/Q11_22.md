### 11. (Optional) Check out a new branch(https://github.com/TAIsRich/springboot-redbook/tree/hw02_01_jdbcT
    emplate) from branch 02_post_RUD, replace the dao layer using JdbcTemplate.
### 12. type the code, you need to checkout new branch from branch 02_post_RUD, name the new branch with h
    ttps://github.com/TAIsRich/springboot-redbook/tree/hw05_01_slides_JPQL.
### 13. What is JPQL?
- JPQL (Java Persistence Query Language) is a query language defined by JPA that is used to query JPA entities (objects), not database tables.
- Key Characteristics:
- - Object-Oriented (Not Table-Oriented): JPQL queries entities; SQL queries tables
- - Database Independent: JPQL is translated by the JPA provider (e.g., Hibernate) into database-specific SQL
- - Uses Entity Names and Fields: 

### 14. What is @NamedQuery and @NamedQueries?
- @NamedQuery is a JPA annotation used to define a static, pre-defined JPQL query and give it a name.
```java
@Entity
@NamedQuery(
    name = "Post.findByStatus",
    query = "SELECT p FROM Post p WHERE p.status = :status"
)
public class Post {
    @Id
    private Long id;
    private String status;
}
```
- @NamedQueries is simply a container annotation that allows you to define multiple named queries on the same entity.
```java
@Entity
@NamedQueries({
    @NamedQuery(
        name = "Post.findAll",
        query = "SELECT p FROM Post p"
    ),
    @NamedQuery(
        name = "Post.findByAuthor",
        query = "SELECT p FROM Post p WHERE p.author = :author"
    )
})
public class Post {
    @Id
    private Long id;
    private String author;
}
```
### 15. What is @Query? In which Interface we write the sql or JPQL?
- @Query is a Spring Data JPA annotation used to define a custom query (JPQL or native SQL) directly on a repository method.
- It allows developers to write queries explicitly when method naming conventions are not sufficient.
- @Query is written in the Repository interface, which extends JpaRepository or CrudRepository.
```java
@Repository
public interface PostRepository extends JpaRepository<Post, Long> {

    @Query("SELECT p FROM Post p WHERE p.author = :author")
    List<Post> findPostsByAuthor(@Param("author") String author);
}
```
### 16. What is HQL and Criteria Queries?
- HQL (Hibernate Query Language) is an object-oriented query language provided by Hibernate. It is similar to JPQL and is used to query entity objects and their fields instead of database tables.
- Key Characteristic of HQL:
- - Object-oriented (uses entity names and fields)
- - Database independent
- - Similar to JPQL (Hibernate-specific extension)
- - Translated into SQL by Hibernate
- Criteria Query is a type-safe, programmatic way to build queries using Java code instead of query strings. It allows developers to construct dynamic queries at runtime.
- Key Characteristics of Criteria Query
- - Type-safe (checked at compile time)
- - Dynamic query building
- - No string-based query
- - More complex and verbose

### 17. What is EnityManager?
- EntityManager is the core JPA interface used to manage the lifecycle of entity objects and interact with the database.
- Key responsibilities:
- - Manage entities in the persistence context
- - Perform CRUD operations
- - Execute JPQL / Criteria queries
- - Control transactions (with Spring)
### 18. What is SessionFactory and Session?
- SessionFactory is a Hibernate core interface used to create Session objects.
- It is thread-safe, heavyweight, and typically created once per application.
- Key Characteristics
- - Thread-safe
- - Heavyweight (expensive to create)
- - Created at application startup
- - Holds configuration and mappings
- Session represents a single unit of work with the database.
- It is used to perform CRUD operations and queries.
- Key Characteristics
- - Not thread-safe
- - Lightweight
- - Short-lived (per request / per transaction)
- - Maintains first-level cache
### 19. What is Transaction? how to manage your transaction?
- A transaction is a group of database operations that are executed as a single unit of work.
- Either all operations succeed (commit) or all operations fail (rollback).
- How to manage:
- - Declarative Transaction Management: Use @Transactional to let Spring manage transactions automatically.
- - Programmatic Transaction Management: Manually control transaction boundaries using API.
### 20. What is hibernate Caching? Explain Hibernate caching mechanism in detail.
- Hibernate caching is a mechanism that stores frequently accessed data in memory so Hibernate can avoid hitting the database repeatedly, improving performance and reducing DB load.
- How it works:
- - First-Level Cache (L1 Cache): enabled by default and stores entities within a single Session/EntityManager to avoid repeated database queries in the same transaction.
- - Second-Level Cache (L2 Cache): optional and stores entities across multiple Sessions, allowing different sessions to reuse cached data without querying the database.
- - Query Cache: stores query result IDs, so repeated execution of the same query can reuse results without re-running SQL, while entity data comes from the second-level cache.
### 21. What is the difference between first-level cache and second-level cache?
- First-Level Cache (L1 Cache)
- - Enabled by default
- - Scoped to a single Session / EntityManager
- - Avoids repeated database queries within the same transaction
- - Cannot be shared across sessions
- Second-Level Cache (L2 Cache)
- - Disabled by default and must be explicitly configured
- - Shared across multiple Sessions
- - Reduces database access across different transactions
- - Suitable for read-heavy and rarely updated data
### 22. How do you understand @Transactional? (https://github.com/TAIsRich/tutorial-transaction)
- @Transactional is a Spring annotation used to define a transactional boundary for a method or class.
- What Spring does with @Transactional: Spring automatically starts a transaction before the method runs and commits it if the method completes successfully.
- Where @Transactional should be used: It should be placed on service-layer methods that contain multiple database operations.
- What problem it solves: It ensures data consistency by making multiple database operations succeed or fail as a single unit.