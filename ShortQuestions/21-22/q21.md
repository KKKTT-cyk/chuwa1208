**21. What is future and completableFuture? List some main methods of ComplertableFuture.**

1. What is Future?

Future represents the result of an asynchronous computation.

You submit a task → it runs in another thread → you get a Future object to:

- check if it’s done

- wait for the result

- cancel it

How you get a Future

Usually from an ExecutorService.

```
ExecutorService executor = Executors.newSingleThreadExecutor();

Future<Integer> future = executor.submit(() -> {
    Thread.sleep(1000);
    return 10;
});

Integer result = future.get(); // blocks until result is available

```

Limitations of Future

Cannot:

- chain multiple async tasks

- attach callbacks

- handle exceptions cleanly

- combine multiple futures

- complete it manually


2. What is CompletableFuture?

CompletableFuture is:

- an enhanced Future

- non-blocking

- callback-based

- chainable

- composable

It implements both:

Future<T> and CompletionStage<T>


So it supports:

- async execution

- chaining

- combining

- exception handling

- manual completion

Example:

```
// Without return value
CompletableFuture.runAsync(() -> {
    System.out.println("Running async task");
});

// With return value
CompletableFuture<Integer> future =
        CompletableFuture.supplyAsync(() -> 10);

future.thenAccept(result -> System.out.println(result));

```

Main methods of CompletableFuture

Chaining/Transforming

| Method         | Purpose                         |
| -------------- | ------------------------------- |
| `thenApply()`  | Transform result                |
| `thenAccept()` | Consume result                  |
| `thenRun()`    | Run next task (no input/output) |

| Method              | Purpose         |
| ------------------- | --------------- |
| `thenApplyAsync()`  | Async transform |
| `thenAcceptAsync()` | Async consume   |
| `thenRunAsync()`    | Async next step |



```
CompletableFuture.supplyAsync(() -> 10)
    .thenApply(x -> x * 2)
    .thenAccept(System.out::println);

```

Combining

| Method          | Purpose                    |
| --------------- | -------------------------- |
| `thenCombine()` | Combine two futures        |
| `thenCompose()` | Flat-map dependent futures |


```
CompletableFuture<Integer> f1 = CompletableFuture.supplyAsync(() -> 10);
CompletableFuture<Integer> f2 = CompletableFuture.supplyAsync(() -> 20);

f1.thenCombine(f2, (a, b) -> a + b)
  .thenAccept(System.out::println); // 30


CompletableFuture.supplyAsync(() -> 10)
    .thenCompose(x -> CompletableFuture.supplyAsync(() -> x * 2))
    .thenAccept(System.out::println);

```

Waiting / Getting Result

| Method   | Behavior                      |
| -------- | ----------------------------- |
| `get()`  | Blocking, checked exception   |
| `join()` | Blocking, unchecked exception |

```
Integer result = future.join();

```

Multiple Futures

| Method    | Purpose      |
| --------- | ------------ |
| `allOf()` | Wait for all |
| `anyOf()` | Wait for any |


Number one use case!

```
CompletableFuture<User> u =
    CompletableFuture.supplyAsync(() -> userService.getUser());

CompletableFuture<Orders> o =
    CompletableFuture.supplyAsync(() -> orderService.getOrders());

CompletableFuture<Recs> r =
    CompletableFuture.supplyAsync(() -> recService.getRecs());

CompletableFuture.allOf(u, o, r).join();

```